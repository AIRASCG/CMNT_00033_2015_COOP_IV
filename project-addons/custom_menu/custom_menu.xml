<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record model="ir.ui.menu" id="base.menu_base_partner">
          <field name="groups_id" eval="[(6,0,[ref('group_standard_menus')])]"/>
        </record>

        <record model="ir.ui.menu" id="account.menu_finance">
          <field name="groups_id" eval="[(6,0,[ref('group_standard_menus')])]"/>
        </record>
        <record model="ir.ui.menu" id="stock.menu_stock_root">
          <field name="groups_id" eval="[(6,0,[ref('group_standard_menus')])]"/>
        </record>
        <record model="ir.ui.menu" id="base.menu_reporting">
          <field name="groups_id" eval="[(6,0,[ref('group_standard_menus')])]"/>
        </record>
        <record model="ir.ui.menu" id="knowledge.menu_document">
          <field name="groups_id" eval="[(6,0,[ref('group_standard_menus')])]"/>
        </record>
        <record model="ir.ui.menu" id="base.menu_administration">
          <field name="groups_id" eval="[(6,0,[ref('group_standard_menus')])]"/>
        </record>
        <record model="ir.ui.menu" id="mail.mail_allgroups">
          <field name="groups_id" eval="[(6,0,[ref('group_standard_menus')])]"/>
        </record>

        <menuitem name="Milkoop" id="parent_menu"/>

        <record id="res_partner_farm_tree" model="ir.ui.view">
            <field name="name">res.partner.farm.tree</field>
            <field name="model">res.partner</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Farms" create="0" colors="red:temporary_farm == True;green:is_cooperative == True">
                    <field name="display_name"/>
                    <field name="function" invisible="1"/>
                    <field name="is_cooperative" invisible="1"/>
                    <field name="phone"/>
                    <field name="email"/>
                    <field name="vat"/>
                    <field name="temporary_farm"/>
                    <field name="user_id" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="action_partner_farm_form" model="ir.actions.act_window">
            <field name="name">Farms</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_farm': 1,'default_customer': 0,'default_supplier': 0, 'default_is_company': 1}</field>
            <field name="domain">[('farm', '=', True)]</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="view_id" ref="res_partner_farm_tree"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                Odoo helps you easily track all activities related to
                a customer; discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record>


        <record id="action_partner_farm_group_category_form" model="ir.actions.act_window">
            <field name="name">Farm groups</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner.category</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a farm group.
              </p><p>
                Odoo helps you easily track all activities related to
                a customer; discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record>

        <menuitem id="farm_managemen" name="Farm management" parent="parent_menu" sequence="1"/>
            <menuitem id="partner_farm" name="Farms" parent="farm_managemen" action="action_partner_farm_form"/>
            <menuitem id="partner_farm_group" name="Farm groups" parent="farm_managemen" action="action_partner_farm_group_category_form"/>


        <record id="action_invoice_line_tree1" model="ir.actions.act_window">
            <field name="name">Customer Invoice lines</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','out_invoice'),('invoice_id.state', '=', 'draft')]</field>
        </record>

        <record id="action_invoice_line_tree2" model="ir.actions.act_window">
            <field name="name">Supplier Invoice lines</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','in_invoice'),('invoice_id.state', '=', 'draft')]</field>
        </record>

        <record id="view_invoice_line_tree_editable" model="ir.ui.view">
            <field name="name">account.invoice.line.tree</field>
            <field name="model">account.invoice.line</field>
            <field name="inherit_id" ref="account.view_invoice_line_tree"/>
            <field name="arch" type="xml">
                <tree position="attributes">
                    <attribute name="editable">top</attribute>
                </tree>
                <field name="name" position="before">
                    <field name="product_id"/>
                </field>
                <field name="account_id" position="after">
                    <field name="account_analytic_id" domain="[('type','!=','view'),('state','not in',('close','cancelled'))]" groups="analytic.group_analytic_accounting"/>
                    <field name="analytics_id" domain="[('plan_id','&lt;&gt;',False)]" groups="analytic.group_analytic_accounting"/>
                </field>
                <field name="discount" position="after">
                    <field name="invoice_line_tax_id" widget="many2many_tags" domain="[('parent_id','=',False)]"/>
                </field>
            </field>
        </record>

        <menuitem id="tech_economic_management" name="Technical economic management" parent="parent_menu"  sequence="2"/>
            <menuitem id="menu_tech_invoices" name="Invoices" parent="tech_economic_management"/>
                <menuitem action="account.action_invoice_tree1" id="menu_action_invoice_tree1" parent="menu_tech_invoices" sequence="1"/>
                <menuitem action="action_invoice_line_tree1" id="menu_action_invoice_line_tree1" parent="menu_tech_invoices"  sequence="2"/>
                <menuitem action="account.action_invoice_tree2" id="menu_action_invoice_tree2" parent="menu_tech_invoices"  sequence="3"/>
                <menuitem action="action_invoice_line_tree2" id="menu_action_invoice_line_tree2" parent="menu_tech_invoices"  sequence="4"/>

            <menuitem id="menu_finance_assets" name="Assets" parent="tech_economic_management"/>
                <menuitem parent="menu_finance_assets" id="menu_action_account_asset_asset_tree"
                    action="account_asset.action_account_asset_asset_tree"/>
                <menuitem parent="menu_finance_assets" id="menu_action_account_asset_asset_form" action="account_asset.action_account_asset_asset_form"/>

            <record id="product_product_action_denominations" model="ir.actions.act_window">
                <field name="name">Denominations</field>
                <field name="type">ir.actions.act_window</field>
                <field name="res_model">product.product</field>
                <field name="view_mode">tree,form</field>
                <field name="view_type">form</field>
                <field name="context">{'default_type':'service'}</field>
                <field name="domain"></field>
            </record>

            <menuitem action="product_product_action_denominations" id="menu_products_menu" parent="tech_economic_management"/>

        <record id="action_partner_customer_form" model="ir.actions.act_window">
            <field name="name">Customers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('customer', '=', True)]</field>
            <field name="context">{'default_customer':1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                Odoo helps you easily track all activities related to
                a customer: discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record>

        <menuitem id="menu_customer" name="Customers"
                parent="tech_economic_management"
                action="action_partner_customer_form" />

        <record id="action_partner_supplier_form" model="ir.actions.act_window">
            <field name="name">Suppliers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="domain">[('supplier', '=', True)]</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_customer': 0,'default_supplier': 1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                Odoo helps you easily track all activities related to
                a supplier: discussions, history of purchases,
                documents, etc.
              </p>
            </field>
        </record>

        <menuitem id="menu_supplier" name="Suppliers"
            parent="tech_economic_management"
            action="action_partner_supplier_form" />

        <menuitem id="visitor_management" name="Visitor management" parent="parent_menu"  sequence="3"/>
            <menuitem action="calendar.action_calendar_event" id="menu_calendar" parent="visitor_management"/>

        <record model="ir.actions.act_window" id="action_ir_attachment">
            <field name="name">Attachments</field>
            <field name="res_model">ir.attachment</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('res_model', '!=', False)]</field>
        </record>

        <menuitem id="documental_management" name="Dcoumental management" parent="parent_menu"  sequence="4"/>
            <menuitem name="Attachments" parent="documental_management" action="action_ir_attachment" id="menu_attachment"/>

        <menuitem id="advanced_parameters" name="Advanced parameters" parent="parent_menu"  sequence="5" groups="custom_groups.group_admin"/>
            <menuitem action="base.action_res_users" id="menu_action_res_users" parent="advanced_parameters"/>
            <menuitem id="menu_log" name="Activity/log" parent="advanced_parameters"/>
                <menuitem id="menu_action_auditlog_rule_tree" parent="menu_log" action="auditlog.action_auditlog_rule_tree" groups="custom_menu.group_standard_menus"/>
                <menuitem id="menu_audit_logs" name="Logs" parent="menu_log" action="auditlog.action_auditlog_log_tree"/>
            <menuitem
                id="company" name="Create Farm"
                string="Create farm"
                action="base.action_res_company_form"
                parent="advanced_parameters"/>

        <record id="res_users_remove_section" model="ir.ui.view">
            <field name="name">res.users.form</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="sales_team.res_user_form"/>
            <field name="arch" type="xml">
                <field name="default_section_id" position="replace"/>
            </field>
        </record>

    </data>
</openerp>
